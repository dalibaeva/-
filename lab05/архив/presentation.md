---
## Front matter
lang: ru-RU
title: Лабораторная работа №5
author: |
	Алибаева Данагуль  \inst{1}
	
institute: |
	\inst{1}RUDN University, Moscow, Russian Federation
	
date: 2021 Moscow, Russia

## Formatting
toc: false
slide_level: 2
theme: metropolis
header-includes: 
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
aspectratio: 43
section-titles: true
---



## Прагматика выполнения лабораторной работы

Практические навыки работы в консоли с расширенными атрибутами файлов и правами доступа понадобятся для умения разграничения и избирательного управления доступом.

## Цель выполнения лабораторной работы

Изучение механизмов изменения идентификаторов, применения SetUID- и Sticky-битов. Получение практических навыков работы в консоли с дополнительными атрибутами. Рассмотрение работы механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов.

## Задачи выполнения лабораторной работы

1. Войдите в систему от имени пользователя guest. 

2. Создайте программу simpleid.c

3. Скомплилируйте программу и убедитесь, что файл программы создан

4. Выполните программу 

5. Выполните системную программу id и сравните полученный вами результат с данными предыдущего пункта задания. 

6. Усложните программу, добавив вывод действительных идентификаторов
 
7. Скомпилируйте и запустите simpleid2.c

8. От имени суперпользователя выполните команды 

9. Используйте sudo или повысьте временно свои права с помощью su. Поясните, что делают эти команды. 

## Задачи выполнения лабораторной работы

10. Выполните проверку правильности установки новых атрибутов и смены владельца файла simpleid2

11. Запустите simpleid2 и id. Сравните результаты. 

12. Проделайте тоже самое относительно SetGID-бита. 

13. Создайте программу readfile.c

14. Откомпилируйте её.

15. Смените владельца у файла readfile.c (или любого другого текстового файла в системе) и измените права так, чтобы только суперпользователь (root) мог прочитать его, a guest не мог. 

16. Проверьте, что пользователь guest не может прочитать файл readfile.c. 

17. Смените у программы readfile владельца и установите SetU’D-бит. 

18. Проверьте, может ли программа readfile прочитать файл readfile.c? 

19. Проверьте, может ли программа readfile прочитать файл /etc/shadow? Отразите полученный результат и ваши объяснения в отчёте. 

## Задачи выполнения лабораторной работы

1. Выясните, установлен ли атрибут Sticky на директории /tmp

2. От имени пользователя guest создайте файл file01.txt в директории /tmp со словом test

3. Просмотрите атрибуты у только что созданного файла и разрешите чтение и запись для категории пользователей «все остальные

4. От пользователя guest2 (не являющегося владельцем) попробуйте прочитать файл /tmp/file01.txt

5. От пользователя guest2 попробуйте дозаписать в файл /tmp/file01.txt слово test2 

6. Проверьте содержимое файла 

7. От пользователя guest2 попробуйте записать в файл /tmp/file01.txt слово test3, стерев при этом всю имеющуюся в файле информацию

8. Проверьте содержимое файла 

9. От пользователя guest2 попробуйте удалить файл /tmp/file01.txt

## Задачи выполнения лабораторной работы

10. Повысьте свои права до суперпользователя и выполните после этого команду, снимающую атрибут t (Sticky-бит) с директории /tmp

11. Покиньте режим суперпользователя

12. От пользователя guest2 проверьте, что атрибута t у директории /tmp нет

13. Повторите предыдущие шаги. Какие наблюдаются изменения? 

14. Удалось ли вам удалить файл от имени пользователя, не являющегося его владельцем? Ваши наблюдения занесите в отчёт

15. Повысьте свои права до суперпользователя и верните атрибут t на директорию /tmp

## Результаты выполнения лабораторной работы

1. Успешное создание программы simpleid.с 
 
![Создание программы simpleid.c](image/1_8.png){ #fig:001 width=70% }  

## Результаты выполнения лабораторной работы

2. Успешное создание программы simpleid2.с 

![Создание программы simpleid2.c](image/1_10.png){ #fig:002 width=70% }  

## Результаты выполнения лабораторной работы

3. Успешное создание программы readfile.c 

![Создание программы readfile.c](image/1_17.png){ #fig:003 width=70% } 

## Вывод

В результате выполнения работы я изучила механизмы изменения идентификаторов, применение SetUID- и Sticky-битов. Получила практические навыки работы в консоли с дополнительными атрибутами. Рассмотрела работы механизма смены идентификатора процессов пользователей, а также влияние бита Sticky на запись и удаление файлов. 

## {.standout}

Спасибо за внимание!
